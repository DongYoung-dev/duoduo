# 듀오해듀오

듀오해듀오는 내 플레이스타일 기반 찰떡 듀오를 매칭해주는 서비스에요

1️⃣ 롤비티아이 기반 알고리즘으로 찰떡 듀오를 매칭해드려요 🤝  
2️⃣ 전적만으로 알 수 없었던 플레이스타일과, 실제 듀오후기도 확인해보세요 👀  
3️⃣ 실시간으로 듀오를 찾고 있는 소환사도 만날 수 있어요  
4️⃣ 마음에 드는 소환사가 있다면, 바로 1:1 채팅으로 롤약속을 잡아보세요  

아래 링크를 클릭하면 롤비티아이 검사와 3초 안에 회원가입이 가능해요!  
심심하실 때 가입해주시면 정말 감사드리겠습니당  
(어쩌면 알고리즘으로 절 만나실 수도..? 😋)  

👉듀오해듀오 바로가기  
 [https://duoduo.lol/tendency-test?type=direct](https://duoduo.lol/tendency-test?type=direct)

## 1️⃣ 프로젝트 기간

2022.07 ~ 2022.08 (6주)

## 2️⃣ 깃허브 링크

[https://github.com/gnar-rengar/backend](https://github.com/gnar-rengar/backend)

## 3️⃣ **Service Architecture**

![Frame 1.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/189d8b90-d1d4-4cbf-bea9-1f6d7d57b6e9/Frame_1.png)

## 4️⃣ **BE Core Tools**

### **Language**

### **Framework**

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6e6f64652e6a732d3644413535463f7374796c653d666f722d7468652d6261646765266c6f676f3d6e6f64652e6a73266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/305e7cc7-5dbe-45fa-b1f0-fcc9620ada64/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6e6f64652e6a732d3644413535463f7374796c653d666f722d7468652d6261646765266c6f676f3d6e6f64652e6a73266c6f676f436f6c6f723d7768697465.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6176617363726970742d2532333332333333302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6a617661736372697074266c6f676f436f6c6f723d253233463744463145.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/abe8e5ea-ccef-44a4-a054-8242174572fe/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6176617363726970742d2532333332333333302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6a617661736372697074266c6f676f436f6c6f723d253233463744463145.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f657870726573732e6a732d2532333430346435392e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d65787072657373266c6f676f436f6c6f723d253233363144414642.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4420dc31-1e0f-4825-97c3-365a4160460e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f657870726573732e6a732d2532333430346435392e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d65787072657373266c6f676f436f6c6f723d253233363144414642.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e504d2d2532333030303030302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6e706d266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1863a750-ebad-4113-af84-bcc9a08d8975/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e504d2d2532333030303030302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6e706d266c6f676f436f6c6f723d7768697465.svg)

### ****Infrastructure****

### **DB**

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4157532d2532334646393930302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e2d617773266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f568d957-2089-4492-becb-7c0209c8f344/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4157532d2532334646393930302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e2d617773266c6f676f436f6c6f723d7768697465.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d6f6e676f44422d2532333465613934622e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6d6f6e676f6462266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/59d421e1-6f58-4d20-ae4f-99dbf2f08c75/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d6f6e676f44422d2532333465613934622e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6d6f6e676f6462266c6f676f436f6c6f723d7768697465.svg)

### **Dev tools**

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f56697375616c25323053747564696f253230436f64652d3030373864372e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d76697375616c2d73747564696f2d636f6465266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cf1da24d-4b93-4832-abda-2a3393a08cf5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f56697375616c25323053747564696f253230436f64652d3030373864372e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d76697375616c2d73747564696f2d636f6465266c6f676f436f6c6f723d7768697465.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e6f74696f6e2d2532333030303030302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6e6f74696f6e266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dac41b8d-229c-4fcf-b6fa-7576228ef5cc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e6f74696f6e2d2532333030303030302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6e6f74696f6e266c6f676f436f6c6f723d7768697465.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d2532333132313031312e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/47df4286-2417-487b-a351-cdf9441b956a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d2532333132313031312e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465.svg)

![68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6972612d2532333041304646462e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6a697261266c6f676f436f6c6f723d7768697465.svg](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0dec480e-7e75-440c-b3e5-b9bb5f9eb04a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6972612d2532333041304646462e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d6a697261266c6f676f436f6c6f723d7768697465.svg)

### **Library**

[package.json](https://www.notion.so/094fd13f951b42f789fd6ecff45d558d)

## 5️⃣ Trouble Shooting

### issue 1

### 🤔 situation

- 로그인 시 서버에서 Set-cookie 해준 쿠키를 클라이언트에서 꺼내서 로그인 여부를 판별하고 싶었는데, 사용할 수 없었음
- 개발자 도구의 Network탭에서 Request cookies에는 잘 왔다갔다 하는게 보였으나 Application탭의 cookie, 즉 클라이언트의 브라우저에는 저장이 되지 않아 사용할 수 없었음

### 😙 solution

- httpOnly, secure, domain, samesite 등 Set-cookie의 옵션들을 다양하게 바꾸어 보았지만 원하는 방식대로 작동하지 않음
- → 서버와 클라이언트의 도메인이 달라 서버 측 도메인에 쿠키가 저장되고 있었음
- → 여전히 클라이언트에서 그 쿠키를 사용할 순 없었기에 클라이언트 주소인 [https://duoduo.lol](https://duoduo.lol에)의 하위 도메인인  [https://server.duoduo.lol](https://server.duoduo.lol로)로 서버 주소를 이전함
- → 원하던 대로 네트워크 헤더에도, 브라우저 쿠키에도 둘 다 저장이 됨!

## 6️⃣ Members

[Members](https://www.notion.so/118e848de777478da391a6984fb7913f)
